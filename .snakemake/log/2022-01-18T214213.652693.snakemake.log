The flag 'directory' used in rule base_recalibrator_report is only valid for outputs, not inputs.
The flag 'directory' used in rule apply_bqsr is only valid for outputs, not inputs.
Building DAG of jobs...
Using shell: /usr/bin/bash
Provided cores: 1 (use --cores to define parallelism)
Rules claiming more threads will be scaled down.
Job counts:
	count	jobs
	52	apply_bqsr
	2	collect_aggregated_metrics
	2	collect_rg_bam_metrics
	2	gather_recal_bams
	1	main
	59

[Tue Jan 18 21:42:14 2022]
rule apply_bqsr:
    input: output/sorted_bam/1102781231/, output/recalibrated_bam/1102781231.recal_data.csv
    output: output/recalibrated_bam/1102781231.aligned.duplicates_marked.recalibrated_25.bam
    jobid: 59
    benchmark: benchmarks/recalibrated_bam/1102781231.apply_bqsr.25.txt
    wildcards: sample=1102781231, interval=25

Terminating processes on user request, this might take some time.
[Tue Jan 18 21:43:27 2022]
Error in rule apply_bqsr:
    jobid: 59
    output: output/recalibrated_bam/1102781231.aligned.duplicates_marked.recalibrated_25.bam
    shell:
        
        module load R/3.5.3  gatk/4.2.0.0 java/1.8.0_211 python/3.7.3 picard/2.22.3
        bam=$(ls output/sorted_bam/1102781231/*.bam)
        interval=$(cat input/intervals/sequence_grouping_unmapped_newline/sequence_grouping.unmapped_25.list | sed 's#^#-L #' | sed 's#$# \
#')
        gatk --java-options "-XX:+PrintFlagsFinal -XX:+PrintGCTimeStamps -XX:+PrintGCDateStamps           -XX:+PrintGCDetails -Xloggc:           -XX:GCTimeLimit=50 -XX:GCHeapFreeLimit=10 -Dsamjdk.compression_level=2 -Xms3000m"           ApplyBQSR           --create-output-bam-md5           --add-output-sam-program-record           -R /sc/arion/projects/MMAAAS/src/gatk-resources/hg38_20201116/hg38/v0/resources-broad-hg38-v0-Homo_sapiens_assembly38.fasta           -I $bam           --use-original-qualities           -O output/recalibrated_bam/1102781231.aligned.duplicates_marked.recalibrated_25.bam           --bqsr-recal-file output/recalibrated_bam/1102781231.recal_data.csv
          $interval
        
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

Removing output files of failed job apply_bqsr since they might be corrupted:
output/recalibrated_bam/1102781231.aligned.duplicates_marked.recalibrated_25.bam
Complete log: /sc/arion/projects/MMAAAS/ngs_res/aaa_pilot_20201113/gatk20220113/.snakemake/log/2022-01-18T214213.652693.snakemake.log
