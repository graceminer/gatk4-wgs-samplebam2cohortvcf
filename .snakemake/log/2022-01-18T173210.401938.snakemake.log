The flag 'directory' used in rule base_recalibrator_report is only valid for outputs, not inputs.
The flag 'directory' used in rule apply_bqsr is only valid for outputs, not inputs.
Building DAG of jobs...
Using shell: /usr/bin/bash
Provided cores: 1 (use --cores to define parallelism)
Rules claiming more threads will be scaled down.
Job counts:
	count	jobs
	52	apply_bqsr
	52	base_recalibrator_report
	2	collect_aggregated_metrics
	2	collect_rg_bam_metrics
	2	gather_bqsr_reports
	2	gather_recal_bams
	1	main
	113

[Tue Jan 18 17:32:10 2022]
rule base_recalibrator_report:
    input: output/sorted_bam/1102781231/
    output: output/recalibrated_bam/1102781231.recal_data_08.csv
    log: logs/recalibrated_bam/1102781231.base_recal_report.gc_log.08.log
    jobid: 14
    benchmark: benchmarks/recalibrated_bam/1102781231.bqsr_report.08.txt
    wildcards: sample=1102781231, intervals=08

[Tue Jan 18 17:32:12 2022]
Error in rule base_recalibrator_report:
    jobid: 14
    output: output/recalibrated_bam/1102781231.recal_data_08.csv
    log: logs/recalibrated_bam/1102781231.base_recal_report.gc_log.08.log (check log file(s) for error message)
    shell:
        
       module load R/3.5.3  gatk/4.2.0.0 java/1.8.0_211 python/3.7.3 picard/2.22.3
       bam=$(ls output/sorted_bam/1102781231/*.bam)
       interval=$(cat input/intervals/sequence_grouping_unmapped_newline/sequence_grouping.unmapped_08.list |sed 's/^/-L /' | sed 's/$/ \/')
       ### BaseRecalibrator
       gatk --java-options "-XX:GCTimeLimit=50 -XX:GCHeapFreeLimit=10 -XX:+PrintFlagsFinal          -XX:+PrintGCTimeStamps -XX:+PrintGCDateStamps -XX:+PrintGCDetails          -Xloggc:logs/recalibrated_bam/1102781231.base_recal_report.gc_log.08.log -Xms5g"          BaseRecalibrator          -R /sc/arion/projects/MMAAAS/src/gatk-resources/hg38_20201116/hg38/v0/resources-broad-hg38-v0-Homo_sapiens_assembly38.fasta          -I $bam          --use-original-qualities          -O output/recalibrated_bam/1102781231.recal_data_08.csv          --known-sites /sc/arion/projects/MMAAAS/src/gatk-resources/hg38_20201116/hg38/v0/resources-broad-hg38-v0-Homo_sapiens_assembly38.dbsnp138.vcf          --known-sites /sc/arion/projects/MMAAAS/src/gatk-resources/hg38_20201116/hg38/v0/resources-broad-hg38-v0-Mills_and_1000G_gold_standard.indels.hg38.vcf.gz          --known-sites /sc/arion/projects/MMAAAS/src/gatk-resources/hg38_20201116/hg38/v0/resources-broad-hg38-v0-Homo_sapiens_assembly38.known_indels.vcf.gz
         $interval
	
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

Shutting down, this might take some time.
Exiting because a job execution failed. Look above for error message
Complete log: /sc/arion/projects/MMAAAS/ngs_res/aaa_pilot_20201113/gatk20220113/.snakemake/log/2022-01-18T173210.401938.snakemake.log
